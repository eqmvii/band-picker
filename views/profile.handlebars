<div class="ui">
  <h1 class="ui center aligned header">Hello {{ user.username }}! You are user # {{user.id}} </h1>

  <img id="profile-pic" class="ui centered medium circular bordered image" src="{{user.profile_pic_url}}"></img>
  <a href="/upload">Upload a profile pic!</a>
</div>

<p>You are authenticated! You are user #{{user.id}}</p>
<p>You were created at: {{user.createdAt}}</p>
<p>
  <a href="/api/bands">Bands API test just for you!</a>
</p>

{{#if user.admin}}
<h1 style="color:red">YOU ARE A SUPER ADMIN</h1>
<hr />
<p>
  <a href="/api/users">Users API test</a>
</p>
<p>
  <a href="/api/bands">Bands API test</a>
</p>
{{!--
<p>
  <a href="/api/test/addmanytomany">ADD many to many test</a>
</p>
<p>
  <a href="/api/test/getmanytomany">GET many to many test</a>
</p> --}}

<p>
  <button id="delete-all" class="ui button red">Delete all users and bands and associations</button>
</p>
{{/if}}





<hr />
<h1>All Bands</h1>

<div class="ui link cards">
  {{#each allBands}}

  <div class="ui card">
    <div class="content">
      <div class="header center">{{this.name}}
        <i class="music icon"></i>
      </div>
    </div>
    <div class="content">
      <h4 class="ui sub header">Details</h4>
      <div class="ui small feed">

        <div class="event">
          <div class="content">
            <div class="summary">
              {{this.stage}} {{this.day}} {{this.time}}
            </div>
          </div>
        </div>

      </div>
    </div>
    <div class="extra content">
      <button id="add-band-{{this.id}}" data-js-band="{{this.id}}" data-js-user="{{ ../user.id }}" class="js-add-band ui button green center">
        <i class="icon plus"></i> Add Band</button>
      {{!--
      <button class="ui button red">BAD</button> --}}

    </div>
  </div>
  {{/each}}
</div>

<h1>Your Bands</h1>

<div class="ui link cards">
  {{#each myBands}}

  <div class="ui card">
    <div class="content">
      <div class="header center">{{this.name}}
        <i class="music icon"></i>
      </div>
    </div>
    <div class="content">
      <h4 class="ui sub header">Details</h4>
      <div class="ui small feed">

        <div class="event">
          <div class="content">
            <div class="summary">
              {{this.stage}} {{this.day}} {{this.time}}
            </div>
          </div>
        </div>

        <div class="event">
          <div class="content">
            <div class="summary">
              <div class="ui star rating" data-js-band="{{this.id}}" data-js-user="{{../user.id}}" data-rating="{{this.BandUser.rating}}"></div>
            </div>
          </div>
        </div>

      </div>
    </div>
    <div class="extra content">
      <button id="remove-band-{{this.id}}" data-js-band="{{this.id}}" data-js-user="{{ ../user.id }}" class="js-remove-band ui button red center">
        <i class="icon trash"></i>
        Remove Band
      </button>
      {{!--
      <button class="ui button red">BAD</button> --}}

    </div>
  </div>
  {{/each}}
</div>

<script src="/js/profile.js" type="text/javascript"></script>
